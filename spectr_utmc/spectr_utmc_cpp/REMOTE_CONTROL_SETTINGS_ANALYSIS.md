# Анализ настроек удалённого управления

**Дата:** 2026-02-04  
**URL:** `192.168.75.150/ignore_remote`

---

## Текущие настройки

### Раздел: "Планировщик удаленного управления"

**Настройка:**
- **"Запрет использования удаленного управления"** - **НЕ ОТМЕЧЕН** ✅
- Это означает, что удалённое управление **РАЗРЕШЕНО**

**Статус:** Удалённое управление включено на уровне настроек веб-интерфейса.

---

## Почему команды SET_YF не работают?

Если удалённое управление разрешено, но команды не работают, возможные причины:

### Причина 1: Режим работы контроллера

**Текущий режим:** "Фиксированный (План 1)"

**Проблема:** В режиме "Фиксированный" контроллер может приоритизировать выполнение программы над внешними командами.

**Решение:** Попробовать переключить на режим "Адаптивный" или проверить, принимает ли контроллер команды в текущем режиме.

### Причина 2: Состояние "Рабочая программа"

**Текущее состояние:** "Рабочая программа"

**Проблема:** Контроллер активно выполняет программу, что может блокировать приём внешних команд.

**Решение:** Возможно, нужно перезапустить программу или переключить режим работы.

### Причина 3: Команды принимаются, но не применяются

**Гипотеза:** SNMP команды успешно доходят до контроллера (режим меняется на UTC Control), но контроллер продолжает работать по программе.

**Возможные причины:**
- Контроллер в режиме "Фиксированный" игнорирует команды SET_YF
- Требуется дополнительная команда или условие
- Команды применяются только в определённых режимах работы

---

## Рекомендуемые действия

### Действие 1: Сохранить настройки (если не сохранены)

1. Убедитесь, что настройки сохранены (нажмите "Сохранить")
2. После сохранения может потребоваться перезапуск программы контроллера

### Действие 2: Переключить режим работы

1. Откройте главную страницу: `https://192.168.75.150/index`
2. В разделе "Установка режима светофора":
   - Попробуйте переключить на **"Адаптивный"** режим
   - Или оставьте "Фиксированный", но проверьте, влияет ли это на приём команд

### Действие 3: Перезапустить программу контроллера

1. На главной странице нажмите кнопку **"Перезапуск программы"**
2. После перезапуска повторите тест SET_YF

### Действие 4: Проверить другие настройки

Проверьте разделы:
- **"АДМИНИСТРИРОВАНИЕ"** - может содержать дополнительные настройки безопасности
- **"ОПЕРАТОР"** - может содержать настройки прав доступа

---

## Тестирование после изменений

После выполнения действий выше:

```bash
cd /home/alexey/shared_vm/spectr_utmc/spectr_utmc/spectr_utmc_cpp
./test_direct_controller.sh
```

---

## Вывод

**Текущее состояние:**
- ✅ Удалённое управление разрешено (чекбокс не отмечен)
- ✅ Протокол UTMC настроен
- ❌ Но команды SET_YF не активируют мигание

**Вероятная причина:**
Контроллер работает в режиме **"Фиксированный (План 1)"**, который может приоритизировать выполнение программы над внешними командами.

**Решение:**
1. Попробовать переключить режим на "Адаптивный"
2. Или перезапустить программу контроллера
3. Повторить тест SET_YF
