# ÐÐ½Ð°Ð»Ð¸Ð· Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð° SCN Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰ÐµÐ³Ð¾ ÐºÐ¾Ð´Ð°

**Ð”Ð°Ñ‚Ð°:** 2026-02-03  
**Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº:** ÐÐ½Ð°Ð»Ð¸Ð· Ð¸ÑÑ…Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð° `spectr_utmc.js`

---

## ðŸŽ¯ ÐšÐ›Ð®Ð§Ð•Ð’ÐžÐ• ÐžÐ¢ÐšÐ Ð«Ð¢Ð˜Ð•

**Ð’ Ð ÐÐ‘ÐžÐ¢ÐÐ®Ð©Ð•Ðœ ÐšÐžÐ”Ð• SCN ÐÐ• Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð•Ð¢Ð¡Ð¯ Ð’ OID!**

### Ð˜Ð· Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰ÐµÐ³Ð¾ ÐºÐ¾Ð´Ð°:

```javascript
SET_PHASE(e,t){
  const r=+t;
  return r>0 && r<8 ? this.set(e,[
    {oid: l.utcType2OperationMode, type:u, value:3},
    {oid: l.utcControlFn, type:c, value:Buffer.of(1<<r-1)}  // <-- Ð‘Ð•Ð— SCN!
  ]) : a.errBadParam
}
```

**Ð’Ñ‹Ð²Ð¾Ð´:** OID Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ, Ð±ÐµÐ· SCN Ð¸ Ð±ÐµÐ· Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð²!

---

## ðŸ“‹ OID Ð¡Ð¢Ð Ð£ÐšÐ¢Ð£Ð Ð Ð’ Ð ÐÐ‘ÐžÐ¢ÐÐ®Ð©Ð•Ðœ ÐšÐžÐ”Ð•

### ÐšÐ¾Ð½ÑÑ‚Ð°Ð½Ñ‚Ñ‹ OID Ð¸Ð· ÐºÐ¾Ð´Ð°:

```javascript
utmc = "1.3.6.1.4.1.13267"
utcControlEntry = utmc + ".3.2.4.2.1"           // = 1.3.6.1.4.1.13267.3.2.4.2.1
utcControlFn = utcControlEntry + ".5"            // = 1.3.6.1.4.1.13267.3.2.4.2.1.5
utcControlLO = utcControlEntry + ".11"           // = 1.3.6.1.4.1.13267.3.2.4.2.1.11
utcControlFF = utcControlEntry + ".20"           // = 1.3.6.1.4.1.13267.3.2.4.2.1.20
utcType2OperationMode = utmc + ".3.2.4.1"        // = 1.3.6.1.4.1.13267.3.2.4.1
```

### Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ SET Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹:

| ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° | OID | Ð¢Ð¸Ð¿ | Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ |
|---------|-----|-----|----------|
| SET_PHASE(2) | `1.3.6.1.4.1.13267.3.2.4.1` | Integer | 3 |
| SET_PHASE(2) | `1.3.6.1.4.1.13267.3.2.4.2.1.5` | OctetString | Buffer.of(2) |
| SET_YF | `1.3.6.1.4.1.13267.3.2.4.1` | Integer | 3 |
| SET_YF | `1.3.6.1.4.1.13267.3.2.4.2.1.20` | Integer | 1 |
| SET_OS | `1.3.6.1.4.1.13267.3.2.4.1` | Integer | 3 |
| SET_OS | `1.3.6.1.4.1.13267.3.2.4.2.1.11` | Integer | 1 |

---

## ðŸ”¬ Ð’ÐÐ–ÐÐ«Ð• ÐÐÐ‘Ð›Ð®Ð”Ð•ÐÐ˜Ð¯

### 1. SCN Ð’ ÐšÐžÐ”Ð• Ð—ÐÐšÐžÐœÐœÐ•ÐÐ¢Ð˜Ð ÐžÐ’ÐÐ:

```json
{ "id":10101, "strid":"Test SINTEZ UTMC", "addr":"192.168.4.77", "//siteId":"CO1111" }
```

**ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚Ðµ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ:** `"//siteId"` - ÑÑ‚Ð¾ Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð¿Ð¾Ð»Ðµ!

### 2. Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¿Ð¾ IP Ð°Ð´Ñ€ÐµÑÑƒ:

```javascript
static create(e){
  const t = e.addr || e.siteId;  // Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ addr Ð˜Ð›Ð˜ siteId
  h.objects[t] = new h(e)
}
```

**Ð’Ñ‹Ð²Ð¾Ð´:** Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾ IP Ð°Ð´Ñ€ÐµÑÑƒ, Ð° Ð½Ðµ Ð¿Ð¾ SCN Ð² OID!

### 3. OID Ð² SET Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°Ñ… Ð¤Ð˜ÐšÐ¡Ð˜Ð ÐžÐ’ÐÐÐÐ«Ð•:

OID Ð½Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð²:

- `1.3.6.1.4.1.13267.3.2.4.2.1.5` - utcControlFn (Ð‘Ð•Ð— ÑÑƒÑ„Ñ„Ð¸ÐºÑÐ°)
- `1.3.6.1.4.1.13267.3.2.4.2.1.11` - utcControlLO
- `1.3.6.1.4.1.13267.3.2.4.2.1.20` - utcControlFF

---

## ðŸ“Š Ð¡Ð ÐÐ’ÐÐ•ÐÐ˜Ð•: ÐÐÐ¨Ð˜ Ð—ÐÐŸÐ ÐžÐ¡Ð« vs Ð ÐÐ‘ÐžÐ¢ÐÐ®Ð©Ð˜Ð™ ÐšÐžÐ”

### âŒ ÐÐ°ÑˆÐ¸ Ð½ÐµÑ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ (Ñ SCN):

```
1.3.6.1.4.1.13267.3.2.4.2.1.5.1.67.79.49.49.49.49.49
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              Ð›Ð˜Ð¨ÐÐ˜Ð• Ð‘ÐÐ™Ð¢Ð« (ASCII Ð¾Ñ‚ "CO11111")
```

### âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ (Ð¸Ð· ÐºÐ¾Ð´Ð°):

```
1.3.6.1.4.1.13267.3.2.4.2.1.5
                              ^ 
                              Ð‘Ð•Ð— Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸Ð½Ð´ÐµÐºÑÐ°!
```

---

## ðŸ’¡ Ð’Ð«Ð’ÐžÐ”

**Ð Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ð¹ ÐºÐ¾Ð´ `spectr_utmc.js` ÐÐ• Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ SCN Ð² OID Ð²Ð¾Ð¾Ð±Ñ‰Ðµ!**

SET Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑŽÑ‚ÑÑ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ðº Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼ OID:

- `1.3.6.1.4.1.13267.3.2.4.2.1.5` Ð´Ð»Ñ utcControlFn
- `1.3.6.1.4.1.13267.3.2.4.2.1.11` Ð´Ð»Ñ utcControlLO
- `1.3.6.1.4.1.13267.3.2.4.2.1.20` Ð´Ð»Ñ utcControlFF

**Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾ IP Ð°Ð´Ñ€ÐµÑÑƒ, Ð° Ð½Ðµ Ð¿Ð¾ SCN Ð² OID.**

---

## ðŸ›  Ð Ð•ÐšÐžÐœÐ•ÐÐ”ÐÐ¦Ð˜Ð˜ Ð”Ð›Ð¯ Ð˜Ð¡ÐŸÐ ÐÐ’Ð›Ð•ÐÐ˜Ð¯ ÐšÐžÐ”Ð

### 1. Ð£Ð±Ñ€Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `buildOIDWithSCN()`

SCN Ð½Ðµ Ð½ÑƒÐ¶ÐµÐ½ Ð² OID Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð°.

### 2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ OID (ÐºÐ°Ðº Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰ÐµÐ¼ ÐºÐ¾Ð´Ðµ)

```cpp
// ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ OID (Ð‘Ð•Ð— SCN):
const std::string UTC_CONTROL_FN = "1.3.6.1.4.1.13267.3.2.4.2.1.5";
const std::string UTC_CONTROL_LO = "1.3.6.1.4.1.13267.3.2.4.2.1.11";
const std::string UTC_CONTROL_FF = "1.3.6.1.4.1.13267.3.2.4.2.1.20";
const std::string UTC_TYPE2_OPERATION_MODE = "1.3.6.1.4.1.13267.3.2.4.1";
```

### 3. ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð²ÑÐµ SET Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ OID Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ, Ð±ÐµÐ· Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ SCN.

---

## âš ï¸ Ð’ÐžÐ—ÐœÐžÐ–ÐÐžÐ• ÐÐ•Ð¡ÐžÐžÐ¢Ð’Ð•Ð¢Ð¡Ð¢Ð’Ð˜Ð• Ð¡ Ð”ÐžÐšÐ£ÐœÐ•ÐÐ¢ÐÐ¦Ð˜Ð•Ð™

**Ð’Ð¾Ð¿Ñ€Ð¾Ñ:** ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ "+ SCN", ÐµÑÐ»Ð¸ ÐºÐ¾Ð´ Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ SCN?

**Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¾Ð±ÑŠÑÑÐ½ÐµÐ½Ð¸Ñ:**

1. **Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ ÑƒÑÑ‚Ð°Ñ€ÐµÐ»Ð°** Ð¸Ð»Ð¸ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ Ðº Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð°
2. **SCN Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ñ†ÐµÐ»ÐµÐ¹** (Ð½Ðµ Ð² OID, Ð° Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ð¼ÐµÑÑ‚Ðµ)
3. **ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð¾Ð±Ð° Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð°** (Ñ SCN Ð¸ Ð±ÐµÐ· SCN)
4. **SCN Ð½ÑƒÐ¶ÐµÐ½ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ GET Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹** Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ñ‹Ñ… OID
5. **SCN Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð°Ñ…** (Ð½Ðµ UG405)

---

## âœ… ÐŸÐ›ÐÐ Ð”Ð•Ð™Ð¡Ð¢Ð’Ð˜Ð™

1. **Ð£Ð±Ñ€Ð°Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‡Ñƒ SCN Ð¸Ð· OID** Ð² ÐºÐ¾Ð´Ðµ
2. **Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ OID** (ÐºÐ°Ðº Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰ÐµÐ¼ ÐºÐ¾Ð´Ðµ)
3. **ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ** Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼ ÐºÐ¾Ð´Ð¾Ð¼
4. **ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ð¾** Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð°

---

## ðŸ“ ÐŸÐ Ð˜ÐœÐ•Ð§ÐÐÐ˜Ð•

Ð¥Ð¾Ñ‚Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ "+ SCN", Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ð¹ ÐºÐ¾Ð´ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð° SCN Ð² OID Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ. Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, ÑÑ‚Ð¾ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð° Ð¡Ð¸Ð½Ñ‚ÐµÐ· Ð¸Ð»Ð¸ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð° UG405.
