# План тестирования чтения данных с контроллера

## Контроллер: 192.168.75.150
## Community: UTMC (будет проверяться)

---

## Этап 1: Базовое подключение

### Шаг 1.1: Проверка доступности контроллера
- [ ] **Действие:** Ping контроллера
- [ ] **Команда:** `ping -c 2 192.168.75.150`
- [ ] **Ожидаемый результат:** 0% потерь
- [ ] **Фактический результат:** ________________
- [ ] **Статус:** ⬜ Успешно / ⬜ Ошибка
- [ ] **Вывод:** ________________

### Шаг 1.2: Проверка SNMP порта
- [ ] **Действие:** Проверка UDP порта 161
- [ ] **Команда:** `nc -zv -u -w 3 192.168.75.150 161`
- [ ] **Ожидаемый результат:** Порт открыт
- [ ] **Фактический результат:** ________________
- [ ] **Статус:** ⬜ Успешно / ⬜ Ошибка
- [ ] **Вывод:** ________________

---

## Этап 2: Создание SNMP сессии

### Шаг 2.1: Попытка создания сессии с community "UTMC"
- [ ] **Действие:** Создать SNMP сессию
- [ ] **Команда:** `./build/test_controller connect 192.168.75.150 UTMC`
- [ ] **Проверка:** Сообщение "OK: Session created successfully"
- [ ] **Фактический результат:** ________________
- [ ] **Статус:** ⬜ Успешно / ⬜ Ошибка
- [ ] **Вывод:** ________________
- [ ] **Действия при ошибке:** Попробовать другие community strings

### Шаг 2.2: Анализ результата создания сессии
- [ ] **Если успешно:**
  - [ ] Зафиксировать рабочий community string
  - [ ] Перейти к следующему этапу
- [ ] **Если ошибка:**
  - [ ] Проанализировать сообщение об ошибке
  - [ ] Попробовать community: "public"
  - [ ] Попробовать community: "private"
  - [ ] Зафиксировать результаты

---

## Этап 3: Чтение стандартных SNMP значений

### Шаг 3.1: GET sysUpTime (стандартный SNMP OID)
- [ ] **Действие:** Прочитать время работы системы
- [ ] **OID:** `1.3.6.1.2.1.1.3.0`
- [ ] **Ожидаемый результат:** Получено значение времени (в сотых долях секунды)
- [ ] **Фактический результат:** ________________
- [ ] **Значение:** ________________
- [ ] **Статус:** ⬜ Успешно / ⬜ Ошибка
- [ ] **Вывод:** ________________
- [ ] **Действия при ошибке:** Проверить community string, сеть

### Шаг 3.2: Анализ результата sysUpTime
- [ ] **Если успешно:**
  - [ ] Значение > 0? ✅ / ❌
  - [ ] Формат корректен? ✅ / ❌
  - [ ] Перейти к следующему шагу
- [ ] **Если ошибка:**
  - [ ] Проанализировать тип ошибки
  - [ ] Проверить логи
  - [ ] Исправить проблему

---

## Этап 4: Чтение UTMC-специфичных значений

### Шаг 4.1: GET версии приложения
- [ ] **Действие:** Прочитать версию ПО контроллера
- [ ] **OID:** `1.3.6.1.4.1.13267.3.2.1.2`
- [ ] **Ожидаемый результат:** Строка с версией (например, "V001")
- [ ] **Фактический результат:** ________________
- [ ] **Значение:** ________________
- [ ] **Статус:** ⬜ Успешно / ⬜ Ошибка
- [ ] **Вывод:** ________________

### Шаг 4.2: Анализ результата версии
- [ ] **Если успешно:**
  - [ ] Значение не пустое? ✅ / ❌
  - [ ] Формат соответствует ожидаемому? ✅ / ❌
  - [ ] Зафиксировать версию: ________________
- [ ] **Если ошибка:**
  - [ ] OID может не поддерживаться? ⬜ Да / ⬜ Нет
  - [ ] Проверить другие OID

### Шаг 4.3: GET режима работы контроллера
- [ ] **Действие:** Прочитать режим работы
- [ ] **OID:** `1.3.6.1.4.1.13267.3.2.4.1.0` (с .0!)
- [ ] **Ожидаемый результат:** Значение 1, 2 или 3
- [ ] **Фактический результат:** ________________
- [ ] **Значение:** ________________
- [ ] **Режим:** ⬜ 1-Standalone / ⬜ 2-Monitor / ⬜ 3-UTC Control / ⬜ Другое
- [ ] **Статус:** ⬜ Успешно / ⬜ Ошибка
- [ ] **Вывод:** ________________

### Шаг 4.4: Анализ результата режима работы
- [ ] **Если успешно:**
  - [ ] Значение в диапазоне 1-3? ✅ / ❌
  - [ ] Интерпретация правильная? ✅ / ❌
  - [ ] Зафиксировать режим: ________________
- [ ] **Если ошибка:**
  - [ ] Проверить, правильно ли добавлен `.0`
  - [ ] Проверить права доступа

### Шаг 4.5: GET времени контроллера
- [ ] **Действие:** Прочитать системное время контроллера
- [ ] **OID:** `1.3.6.1.4.1.13267.3.2.3.2.0`
- [ ] **Ожидаемый результат:** Строка формата YYYYMMDDHHmmssZ
- [ ] **Фактический результат:** ________________
- [ ] **Значение:** ________________
- [ ] **Статус:** ⬜ Успешно / ⬜ Ошибка
- [ ] **Вывод:** ________________

### Шаг 4.6: Анализ результата времени
- [ ] **Если успешно:**
  - [ ] Формат YYYYMMDDHHmmssZ? ✅ / ❌
  - [ ] Время разумное (не в будущем/далеком прошлом)? ✅ / ❌
  - [ ] Зафиксировать время: ________________
- [ ] **Если ошибка:**
  - [ ] OID может не поддерживаться? ⬜ Да / ⬜ Нет

---

## Этап 5: Чтение состояния контроллера

### Шаг 5.1: GET текущей фазы
- [ ] **Действие:** Прочитать текущую фазу
- [ ] **OID:** `1.3.6.1.4.1.13267.3.2.5.1.1.3` (utcReplyGn)
- [ ] **Ожидаемый результат:** Значение фазы (1-7 или другое)
- [ ] **Фактический результат:** ________________
- [ ] **Значение:** ________________
- [ ] **Статус:** ⬜ Успешно / ⬜ Ошибка
- [ ] **Вывод:** ________________

### Шаг 5.2: Анализ результата фазы
- [ ] **Если успешно:**
  - [ ] Значение получено? ✅ / ❌
  - [ ] Значение в ожидаемом диапазоне? ✅ / ❌
  - [ ] Зафиксировать фазу: ________________
- [ ] **Если ошибка:**
  - [ ] Может потребоваться SCN? ⬜ Да / ⬜ Нет
  - [ ] Проверить документацию

---

## Шаблон для записи результатов каждого шага

```
### Шаг X.X: [Название]
**Время:** _______________
**Команда/Действие:**
```
[Команда]
```

**Ожидаемый результат:**
[Что должно произойти]

**Фактический результат:**
[Что произошло]

**Выводы:**
[Анализ результатов]

**Проблемы (если есть):**
[Описание проблем]

**Решение:**
[Что было сделано для решения]

**Статус:** ⬜ Успешно / ⬜ Ошибка / ⬜ Требует внимания
```

---

## Правила работы

1. **Один шаг за раз** - выполняем только один шаг, анализируем, фиксируем результат
2. **Подтверждение** - после каждого шага подтверждаем успех перед переходом к следующему
3. **При ошибке** - останавливаемся, анализируем, исправляем, повторяем
4. **Документирование** - записываем все результаты в этот файл
5. **Мелкие шаги** - разбиваем сложные операции на простые проверяемые шаги

---

## Следующие шаги после успешного чтения

После успешного завершения всех шагов чтения:
1. Анализ всех полученных данных
2. Проверка соответствия ожидаемым форматам
3. Переход к тестированию SET операций (только после успешного чтения)
