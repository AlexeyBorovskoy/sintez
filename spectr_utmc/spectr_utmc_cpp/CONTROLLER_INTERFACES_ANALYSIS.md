# Анализ основных интерфейсов контроллера

**Дата:** 2026-02-04  
**Источник:** Скриншоты веб-интерфейса контроллера

---

## Обзор интерфейсов

### 1. Главная страница (ГЛАВНАЯ)

**URL:** `192.168.75.150/index`

**Основная информация:**
- Версия ПО: `1.4.20`
- ЦПУ: `53.69°C`
- Дата и время: `04.02.2026 15:53:24`
- **Состояние СО:** `Рабочая программа` ← Это объясняет, почему контроллер продолжает работать по заложенной программе!
- **Режим работы:** `Фиксированный (План 1)`
- Текущая фаза: `2/12 - (9)`

**Управление:**
- Кнопка **"Перезапуск программы"** - перезапускает программу контроллера
- Кнопка **"Переключить режим"** - переключает между:
  - **Фиксированный** (Fixed) - текущий режим
  - **Адаптивный** (Adaptive)

**Вывод:** Контроллер работает в режиме "Фиксированный" по "Плану 1", что объясняет, почему он продолжает работать по заложенной программе, игнорируя команды SET_YF.

---

### 2. Управление контроллером (УПРАВЛЕНИЕ КОНТРОЛЛЕРОМ)

**URL:** `192.168.75.150/controller_management`

**Подразделы:**
1. **"Управление контроллером"** (активный)
2. **"Планировщик удаленного управления"** ← ⚠️ ВАЖНО! Это может быть ключом к удалённому управлению!

**Настройки протокола:**
- **Протокол:** `UTMC` ✅
- **Версия протокола:** `v1,v2c` ✅

**SNMP-уведомления:**
- **Тип уведомления:** `INFORM`
- **IP-адрес получателя:** `127.0.0.1` (localhost)
- **Порт получателя:** `10162`

**Кнопка:** "Сохранить" (Save)

**Важное наблюдение:**
- Есть подраздел **"Планировщик удаленного управления"** - это может содержать настройки для включения удалённого управления!
- SNMP-уведомления настроены на `127.0.0.1` - это подтверждает, что контроллер работает с локальным сервисом

---

### 3. Детекторы (ДЕТЕКТОРЫ)

**URL:** `192.168.75.150/detectors`

**Подразделы:**
- Состояние детекторов
- Подсчет трафика
- Безопасность
- Детекторы Ethernet

**Не относится напрямую к удалённому управлению**, но может влиять на работу контроллера.

---

### 4. Сеть (СЕТЬ)

**URL:** `192.168.75.150/network`

**Настройки:**
- **IP-адрес:** `192.168.75.150`
- **Маска подсети:** `255.255.255.0`
- **Основной шлюз:** `192.168.75.1`

**Предупреждение:**
> "ВНИМАНИЕ!!! После применения настроек необходимо перезайти на веб-интерфейс."

---

## Ключевые находки для решения проблемы

### Находка 1: Режим работы контроллера

**Проблема:** Контроллер работает в режиме **"Фиксированный (План 1)"**, что означает:
- Контроллер выполняет фиксированную программу управления
- Команды SET_YF могут игнорироваться, так как контроллер работает по плану

**Решение:** Возможно, нужно переключить режим на **"Адаптивный"** или использовать другой механизм управления.

### Находка 2: Планировщик удаленного управления

**Важно:** В разделе "Управление контроллером" есть подраздел **"Планировщик удаленного управления"**.

**Гипотеза:** Этот подраздел может содержать:
- Настройки включения/выключения удалённого управления
- Расписание работы удалённого управления
- Разрешения для внешних источников команд

**Действие:** Нужно открыть этот подраздел и проверить настройки!

### Находка 3: Состояние СО

**Текущее состояние:** `Рабочая программа`

Это означает, что контроллер активно выполняет программу управления, что объясняет, почему он продолжает работать по заложенной программе, игнорируя команды SET_YF.

---

## Рекомендуемые действия

### Действие 1: Проверить "Планировщик удаленного управления"

1. Откройте веб-интерфейс: `https://192.168.75.150/controller_management`
2. Перейдите на подраздел **"Планировщик удаленного управления"**
3. Проверьте настройки:
   - Есть ли опция включения удалённого управления?
   - Есть ли настройки разрешённых IP-адресов?
   - Есть ли расписание работы удалённого управления?

### Действие 2: Попробовать переключить режим работы

1. Откройте главную страницу: `https://192.168.75.150/index`
2. В разделе "Установка режима светофора" попробуйте:
   - Переключить на **"Адаптивный"** режим
   - Или оставить **"Фиксированный"**, но проверить, влияет ли это на приём команд

### Действие 3: Проверить другие разделы

Проверьте разделы:
- **"АДМИНИСТРИРОВАНИЕ"** - может содержать настройки безопасности и доступа
- **"ОПЕРАТОР"** - может содержать настройки прав доступа

---

## Вывод

Основная проблема может быть в том, что:

1. **Контроллер работает в режиме "Фиксированный (План 1)"** - это может блокировать приём внешних команд
2. **Удалённое управление может быть настроено в подразделе "Планировщик удаленного управления"** - нужно проверить этот раздел!
3. **Состояние "Рабочая программа"** означает активное выполнение программы, что может приоритизировать программу над внешними командами

**Следующий шаг:** Откройте подраздел **"Планировщик удаленного управления"** и проверьте настройки удалённого управления!
